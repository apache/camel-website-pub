<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../../../favicon-128.png" sizes="128x128"> <meta name="application-name" content="Apache Camel"> <meta property="og:title" content="Camel K 2.0"> <meta property="og:site_name" content="Apache Camel"> <meta property="og:url" content="https://camel.apache.org/blog/2023/07/camel-k-2-0/"> <meta name="og:description" content="What&#39;s new in Camel K 2.0!"> <meta property="og:type" content="website"> <meta property="og:image" content="https://camel.apache.org/blog/2023/07/camel-k-2-0/featured.png"> <link rel="manifest" href="../../../../site.webmanifest"> <title>Camel K 2.0 - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/blog/2023/07/camel-k-2-0/"> <link rel="stylesheet" href="../../../../_/css/site-b287b96c63.css"> </head> <body class="article"> <header class="header" aria-label="Header"> <nav class="navbar" aria-label="Main menu"> <div class="navbar-brand"> <a class="nav-logo" href="../../../../" title="Apache Camel"></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../blog/"> <img alt="Blog" src="../../../../_/img/blog-4c7fa4cb60.svg"> Blog </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../docs/"> <img alt="Documentation" src="../../../../_/img/documentation-abb1b7f8b1.svg"> Documentation </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../community/"> <img alt="Community" src="../../../../_/img/community-2ec8a3dc8b.svg"> Community </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../download/"> <img alt="Download" src="../../../../_/img/download-63cdd75074.svg"> Download </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../security/"> <img alt="Security" src="../../../../_/img/security-06abe157b3.svg"> Security </a> </div> </div> <div class="navbar-fill"></div> <div class="break-row"></div> <div class="navbar-search results-hidden"> <input id="search" class="search" placeholder="Search" autocomplete="off"> <img src="/_/img/cancel-1ed239489b.svg" alt="Clear" id="search-cancel"> <div id="search_results"></div> </div> <div class="navbar-tools"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#twitter"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://www.linkedin.com/groups/2447439/" title="Apache Camel group on Linkedin"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#linkedin"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button" aria-label="Menu"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <a id="top"></a> <div class="body"> <main role="main blog"> <article class="blog doc"> <header aria-labelledby="title"> <a class="category" href="../../../../categories/Releases/">RELEASES</a><a class="category" href="../../../../categories/Camel-K/">CAMEL K</a><a class="category" href="../../../../categories/Roadmap/">ROADMAP</a> <h1 id="title">Camel K 2.0</h1> </header> <div class="post"> <aside aria-label="Post details"> <div class="summary">What&#39;s new in Camel K 2.0!</div> Posted on <time itemprop="published" datetime="2023-07-24" title="Monday, July 24, 2023">July 24, 2023</time>, by <figure> <img src="https://avatars.githubusercontent.com/u/23169723?v=4" alt="Pasquale Congiusti"> <figcaption rel="author">Pasquale Congiusti</figcaption> </figure> <h4>Share this blog</h4> <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcamel.apache.org%2fblog%2f2023%2f07%2fcamel-k-2-0%2f" target="_blank" rel="noopener" aria-label="Share on Facebook"> <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg> </div> </div> </a> <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Camel%20K%202.0&url=https%3a%2f%2fcamel.apache.org%2fblog%2f2023%2f07%2fcamel-k-2-0%2f&hashtags=ApacheCamel" target="_blank" rel="noopener" aria-label="Share on Twitter"> <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg> </div> </div> </a> <a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcamel.apache.org%2fblog%2f2023%2f07%2fcamel-k-2-0%2f&title=Camel%20K%202.0&summary=What%27s%20new%20in%20Camel%20K%202.0%21&source=https%3A%2F%2Fcamel.apache.org" target="_blank" rel="noopener" aria-label="Share on LinkedIn" title="Share on LinkedIn"> <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg> </div> </div> </a> <p> <a class="arrow prev" href="../../../../blog/2023/07/camel-karavan-3.21.0/" title="Previous post: Karavan 3.21.0: Developer Performance Accelerator">&#10094;</a> <a class="arrow next" href="../../../../blog/2023/07/RELEASE-4.0.0-RC2/" title="Next post: RELEASE 4.0.0-RC2">&#10095;</a> </p> </aside> <div class="post-content"> <img class="featured" alt="Blog post featured image" src="../../../../blog/2023/07/camel-k-2-0/featured_hu3a713ed57de08fca2c8accda2bb3acf6_60058_800x0_resize_q95_gaussian_3.png" width="800" height="800"> <p>© 2023, RoadTrafficSigns.com</p> <p>With a great level of excitement, on behalf of Apache Camel community, I&rsquo;m proud to announce the general availability of <strong>Camel K 2.0</strong>. It&rsquo;s been a long ride since the beginning of 2023 when we announced the desire to work on an heavy refactoring in order to introduce new shining features and be able to run the future <strong>Camel 4</strong> runtimes.</p> <p>This is the first important milestone reached, and we thought that the work done so far is already mature to see <strong>general availability</strong>. We&rsquo;ll keep working on the <a href="../../../../blog/2023/02/camel-k-roadmap-2023/">roadmap</a> along this year in order to try to complete as much as we can of what we have planned for 2023.</p> <p>Let&rsquo;s look at one by one the main new features or updates that Camel K 2.0 is introducing. We plan to work on more blogs and documentation dedicated to each of the new features introduced during next months.</p> <h1 id="release-details">Release details</h1> <p>You can find all the CLIs and detailed changelog information in the <a href="https://github.com/apache/camel-k/releases/tag/v2.0.0" rel="noopener nofollow noreferrer">Camel K 2.0.0 release page</a>. Download the CLI for your operating system and architecture, <code>kamel install</code> and be ready to use the latest features available.</p> <p>As usual, we acknowledge the great work done in Apache Camel community. Camel K default runtime is based on the following projects:</p> <ul> <li>Apache Camel K Runtime 2.16.0</li> <li>Apache Camel Quarkus 2.16.0</li> <li>Apache Camel 3.20.1</li> <li>Apache Camel Kamelets 3.20.1.1</li> </ul> <h1 id="upgrade-from-v1">Upgrade from V1</h1> <p>The first concern you may have is about compatibility to Camel K version 1 and how to upgrade: we have worked to make this process as smooth as possible. We introduced some important change in the Kubernetes API and we tried to make this in a backward compatible manner. In particular we have promoted the <code>v1alpha1.Kamelet/KameletBinding</code> API to <code>v1</code> as we now feel it&rsquo;s mature enough and we have renamed the <code>v1alpha1.KameletBinding</code> to <code>v1.Pipe</code>.</p> <p>We don&rsquo;t expect you to make any change on the old API though. As for <code>Kamelet</code>, the Kubernetes cluster will take care to automatically upgrade this (as it&rsquo;s just a change in the versioning).</p> <p>WARNING: make sure not to downgrade to Camel K version 1 once you have upgraded to version 2, because there won&rsquo;t be any conversion from <code>v1</code> to <code>v1alpha1</code> and it may result in a fatal error.</p> <p>The old <code>v1alpha1.KameletBinding</code> will still be supported in this release in order to give you the time to make the needed change and move all your KameletBindings to <a href="../../../../camel-k/next/apis/camel-k.html#_camel_apache_org_v1_Pipe"><code>v1.Pipe</code></a>. Try to give priority to this operation because the <code>v1alpha1</code> is now deprecated and will be removed within the next versions of Camel K.</p> <p>There is no other important concern about the compatibility with the previous Camel K version.</p> <p>We suggest to take the opportunity of this major upgrade to detect any usage of deprecated parameters in the <a href="../../../../camel-k/next/apis/camel-k.html">Camel K API</a> and do the switch accordingly.</p> <h1 id="possibility-to-run-any-camel-k-runtime">Possibility to run any Camel K Runtime</h1> <p>The first important feature we have introduced is the <strong>possibility to run any Camel K Runtime</strong>, making Camel K 2.0 backward and forward compatible. With this feature you can use the <a href="../../../../camel-k/next/traits/camel.html#_configuration">Camel trait</a> and specify which runtime version you want to use. As soon as a new version is available (ie, runtime version 3 which will run Camel 4), then, you can just update that parameter without the need to upgrade the operator any longer.</p> <p>By default, Camel K 2.x will use the stable runtime version at the moment of the release (in this case, Camel K runtime <code>2.16.0</code>).</p> <p>NOTE: You can use any Camel K Runtime version &gt;= <code>1.17.0</code>.</p> <h1 id="enterprise-grade-build-system">Enterprise grade build system</h1> <p>We have redesigned massively the way we conceive our build in order to accommodate the need run any Camel K Runtime. We are in general aware that we need to strengthen the way we build the applications, making sure each customer can introduce their tooling and have enough possibility to choose how to perform such a <strong>build in an &ldquo;enterprise-grade&rdquo;</strong>. Although we&rsquo;re still working in progress (more enhancements to come in next milestone), we already have achieved most of the points we wanted to cover.</p> <h2 id="free-camel-k-from-runtime">Free Camel K from Runtime</h2> <p>The build process is now partially decoupled from the runtime process. We have identified the design and we applied it in Camel K version 2. The most important news was discussed in the chapter above, the enablement of multiple Camel K runtime.</p> <p>In order to enable this feature, you will notice that the <code>CamelCatalog</code> Custom Resource is now a dynamic resource which is reconciled by the operator. It is the one in charge to dynamically create any new runtime catalog required. This work was a big design change and we&rsquo;re confident it will help use reaching the longer term goal which is to <strong>onboard any Camel runtime</strong> (main, springboot, quarkus).</p> <p>Have a look at the official documentation and learn more about the new Camel K Runtime builder design.</p> <h2 id="transform-the-build-into-a-pipeline">Transform the build into a pipeline</h2> <p>We have realized that the concept of an application build is not something &ldquo;static&rdquo;. Each user/company has a different approach when building and testing an application. That&rsquo;s the reason why we have reworked the entire concept of the build and replace with something more customizable, a <strong>pipeline</strong>.</p> <p>The first immediate result of this change is that you have available a <a href="../../../../camel-k/next/pipeline/pipeline.html">simple Camel K Pipeline technology</a>. This one is thought for those developers and companies which do not require all the major features of a complete pipeline technology. You may want to use this in order to provide some post-build process (ie, running a CVE scanning tool) or in general, execute any tool required by your company deployment process.</p> <h2 id="camel-k-tekton-tasks">Camel K Tekton tasks</h2> <p>We also know that many companies already adopts some richer <strong>CICD technology</strong>. For this reason we have introduced the Camel K Tekton task which we&rsquo;re willing to support in order to simplify the onboarding of Camel K in Tekton pipeline.</p> <p>We have chosen to support Tekton because it&rsquo;s one of the most mature and widespread used CICD technology. However, if you&rsquo;re using any other pipeline technology it should not be difficult to transform the action we are supporting in Tekton task with the one required by your pipeline technology.</p> <h2 id="more-meaningful-error-messages">More meaningful error messages</h2> <p>We know <strong>troubleshooting a failing application</strong> can be a bit annoying. For this reason we&rsquo;ve added more error conditions and traces that will make this activity easier. Check it out <code>Integration</code>, <code>IntegrationKit</code> and <code>Build</code> custom resources conditions in order to understand why some application has failed.</p> <p>In particular in the <code>Build </code>(which is the main reason why an application fails) custom resource you will find conditions like the following one which can give you an immediate pulse of what&rsquo;s going on:</p> <pre tabindex="0"><code>  conditions:
  - lastTransitionTime: &#34;2023-05-19T09:56:02Z&#34;
    lastUpdateTime: &#34;2023-05-19T09:56:02Z&#34;
    message: |
      ...
      {&#34;level&#34;:&#34;info&#34;,&#34;ts&#34;:1684490148.080175,&#34;logger&#34;:&#34;camel-k.builder&#34;,&#34;msg&#34;:&#34;base image: eclipse-temurin:11&#34;}
      {&#34;level&#34;:&#34;info&#34;,&#34;ts&#34;:1684490148.0801787,&#34;logger&#34;:&#34;camel-k.builder&#34;,&#34;msg&#34;:&#34;resolved base image: eclipse-temurin:11&#34;}
    reason: Completed (0)
    status: &#34;True&#34;
    type: Container builder succeeded
</code></pre><h2 id="quarkus-native-build-as-a-pod">Quarkus Native build as a Pod</h2> <p>A Quarkus native build is an important feature that helps you save resources and give your Java application all the characteristics of a <strong>first class Cloud Native</strong> citizen. However, AOT compilation is something that requires resources and time. For this reason, from now on, when you run a Quarkus Native build, this will be performed with the <code>Pod</code> build strategy, which will basically spin off an external <code>Pod</code> to take care of such an heavy operation.</p> <p>This is a good news, because it will free the operator from the burden of such an heavy operation. Moreover we introduced some sensible resource configuration which should be enough for the builder Pod to complete its work without affecting the stability of the operator.</p> <p>However, if those are not enough or you still want to customize the builder Pod resources, we have made available a set of <a href="../../../../camel-k/next/traits/builder.html">builder parameters</a> (mainly cpu and memory resources).</p> <h2 id="run-build-unprivileged">Run build unprivileged</h2> <p>This is quite an hidden work we&rsquo;ve done and it really gave us a lot of trouble in order to let <strong>Spectrum</strong> and <strong>S2I</strong> builds to run in an unprivileged mode. However, we&rsquo;ve accomplished it and we feel a little safer against any possible attack from privileged escalation.</p> <p>NOTE: we haven&rsquo;t (yet) deprecated <strong>Kaniko</strong> and <strong>Buildah</strong> strategy and these deployment methods require to run with <code>root</code> privileges. Make sure to understand the possible risks involved.</p> <h2 id="build-order-strategy">Build order strategy</h2> <p>Another interesting feature that is now available to you is the possibility to define a build order strategy that controls in which order scheduled integration builds get executed.</p> <p>In Camel K v1 a series of parallel submitted builds got executed strictly sequential (only one single build at a time) and there was no guarantee on the order of build execution.</p> <p>Now you can specify the order of builds using the <a href="../../../../camel-k/next/traits/builder.html#_configuration">Builder trait order strategy parameter</a>.</p> <p>Supported build order strategies are:</p> <ul> <li><code>sequential</code>: equivalent to the Camel K 1 behavior running only one single build at a time</li> <li><code>fifo</code>: First in first out strategy runs builds as they have been created and allows builds to run in parallel to each other as long as <code>maxRunningBuilds</code> limit has not been reached.</li> <li><code>dependencies</code>: Sophisticated order strategy smartly creating a queue for those builds which may depend on each other in order to effectively run builds leveraging the incremental build feature. Allows independent builds to run in parallel to each other as long as <code>maxRunningBuilds</code> limit has not been reached. You can now choose from these build order strategies to get the best out of Camel K. Our operator is smarter than any AI out there!!</li> </ul> <h1 id="more-info-on-kube-native-cli">More info on Kube native CLI</h1> <p>It&rsquo;s no secret that in the long term we&rsquo;re willing to move most of the logic of <code>kamel</code> CLI in Camel JBang or any other UI tool. The possibility to include more information directly in <code>kubectl</code> and any other K8S CLI (ie, <code>oc</code>) will help you getting most of the required information in one shot:</p> <pre tabindex="0"><code>$ kubectl get camelcatalog
NAME                   RUNTIME PROVIDER   RUNTIME VERSION   RUNTIME CAMEL VERSION   PHASE
camel-catalog-2.16.0   quarkus            2.16.0            3.20.1                  Ready
$ kubectl get ip
NAME      PHASE   BUILD STRATEGY   PUBLISH STRATEGY   REGISTRY ADDRESS   DEFAULT RUNTIME
camel-k   Ready   routine          Spectrum           10.110.251.124     2.16.0
...
</code></pre><h1 id="camel-k-runtime-versioning">Camel K Runtime versioning</h1> <p>The design work we did in Camel K in order to decouple from the runtime made us working on a deep cleaning of Camel K Runtime as well. This dependency is even lighter that before and right now it is mainly dependant from the Camel Quarkus project. You can notice that we <strong>aligned the versioning</strong> of this dependency to the versioning used in <strong>Camel Quarkus</strong>. It will be easier to identify which Camel Quarkus runtime we refer now.</p> <p>From now on we expect to release this dependency when Camel Quarkus will be released.</p> <h1 id="golang-api-upgrade-to-v2-and-dependencies-upgrade">Golang API upgrade to V2 and dependencies upgrade</h1> <p>This change won&rsquo;t affect directly the users of Camel K but it&rsquo;s important to mention for those tools or application that are using <strong>Camel K Golang API</strong>. We have upgraded to V2 accordingly, so, anybody willing to use this API will have to do the update accordingly.</p> <p>We have also performed a deep review to verify those old unsupported dependencies which may lead to a possible headache in case of some CVE. We have removed all the unsupported dependencies and we feel a bit more <strong>safer against possible vulnerabilities</strong> in the dependencies we use.</p> <h1 id="remove-deprecated-cli-commands">Remove deprecated CLI commands</h1> <p>As we embarked in a major upgrade, we took the opportunity to clean all the <strong>deprecated CLI commands</strong> and configuration we had marked in Camel K version 1.</p> <ul> <li><code>kamel install --kaniko-build-cache</code></li> <li><code>kamel local</code></li> <li><code>kamel init</code></li> <li><code>kamel run --config|--resource file:</code></li> </ul> <p>In version 2 they won&rsquo;t be any longer available and the operator may fail if those configurations are provided. Above all, the last one will require you to provide a resource file as either a Configmap or Secret if you want to use the related configuration (we don&rsquo;t support any longer the auto-generated Confimaps from file).</p> <h1 id="multiple-data-types-and-schemas-in-kamelets">Multiple data types and schemas in Kamelets</h1> <p>Kamelets are now able to expose supported input/output data types as part of the Kamelet data type specification in order to increase the interoperability with other components. When referencing a Kamelet as a source or sink in a Pipe users may now choose an appropriate input/output data type that fits best for their individual use case.</p> <p>This feature leverages the <a href="../../../../manual/transformer.html">data types transformer concept</a> in Apache Camel 4 and reveals its full power once the new major version of Camel is available (we are all eagerly awaiting it).</p> <h1 id="default-micrometer-for-integration-monitoring">Default Micrometer for integration monitoring</h1> <p>About observability we made some work to use <strong>Micrometer as a default</strong>. Some changes are expected in the default metrics as it replaced the dependencies used from one technology (Microprofile) to another (Micrometer).</p> <p>You can have a look at the <a href="../../../../camel-k/next/traits/prometheus.html">Prometheus trait configuration</a> to learn more.</p> <h1 id="multi-architecture-support">Multi architecture support</h1> <p>This feature should not be considered as generally available but more a kind of &ldquo;tech preview&rdquo;. In Camel K 2.0 we provide an <strong>ARM64 architecture based container image</strong> for the operator but it is not tested due to the difficulty to find the required infrastructure and have the suite of test running. It&rsquo;s a best effort feature that we hope we can make generally available in the future versions.</p> <p>For more information you can have a look at the <a href="../../../../camel-k/next/installation/advanced/multi-architecture.html">Multi architecture official documentation</a> page.</p> <h1 id="code-coverage-report">Code coverage report</h1> <p>If you&rsquo;re a Camel K contributor you have noticed that we introduced a nice action which is taking care to calculate the code coverage of the new code developed. The actions reports the coverage difference, so we know how we increase (or decrease) indirectly the quality of the code. This is not really (yet) a gateway, we want to create awareness among Camel K developers about the level of quality we introduce with each change. Little by little we expect to <strong>increase the quality of the code</strong> we produce and have less bugs affecting our code.</p> <h1 id="optimize-operator-performance-and-resource-allocation">Optimize operator performance and resource allocation</h1> <p>The team has made some effort to reduce the amount of resources (memory and CPU) consumed by the Camel K operator. The results of this can be seen when creating many Integrations on a cluster and when the operator runs multiple integration builds.</p> <p>We have run some test scenarios and compared the results of different Camel K versions.</p> <p><em>Test scenario: Running 600 Camel K integrations</em></p> <p><img src="600_integrations.svg" alt="Running 600 Camel K integrations"></p> <table> <thead> <tr> <th style="text-align:left">Camel K</th> <th style="text-align:center">avg. Memory</th> <th style="text-align:center">avg. CPU</th> <th style="text-align:center">Time</th> </tr> </thead> <tbody> <tr> <td style="text-align:left">1.9.0</td> <td style="text-align:center">529 MiB</td> <td style="text-align:center">262 millicores</td> <td style="text-align:center">29 mins</td> </tr> <tr> <td style="text-align:left">1.12.1</td> <td style="text-align:center">344 MiB</td> <td style="text-align:center">54 millicores</td> <td style="text-align:center">21 mins</td> </tr> <tr> <td style="text-align:left">2.0.0</td> <td style="text-align:center">306 MiB</td> <td style="text-align:center">60 millicores</td> <td style="text-align:center">20 mins</td> </tr> </tbody> </table> <p><em>Test scenario: Running 50 integrations builds in parallel</em></p> <p><img src="50_builds.svg" alt="Running 50 integrations builds in parallel"></p> <table> <thead> <tr> <th style="text-align:left">Camel K</th> <th style="text-align:center">avg. Memory</th> <th style="text-align:center">avg. CPU</th> <th style="text-align:center">Time</th> </tr> </thead> <tbody> <tr> <td style="text-align:left">1.9.0</td> <td style="text-align:center">510 MiB</td> <td style="text-align:center">352 millicores</td> <td style="text-align:center">59 mins</td> </tr> <tr> <td style="text-align:left">1.12.1</td> <td style="text-align:center">440 MiB</td> <td style="text-align:center">185 millicores</td> <td style="text-align:center">57 mins</td> </tr> <tr> <td style="text-align:left">2.0.0</td> <td style="text-align:center">326 MiB</td> <td style="text-align:center">45 millicores</td> <td style="text-align:center">38 mins</td> </tr> </tbody> </table> <p>The Camel K 2.0 results are pleasant especially when running multiple builds at the same time. The team is keen to keep improving the operator performance in future releases.</p> <h1 id="documentation">Documentation</h1> <p>The last important point we&rsquo;ve introduced is about the additional documentation we&rsquo;ve provided. Maintaining the documentation up to date is a very well known hard task. But we know this is important for the final users to get the best from the project.</p> <p>In general we have worked to update the documentation with the various changes we have introduced. Additionally we have added the documentation which explain the major features of the new release.</p> <p>Beside that we have also worked on a series of documentation or blog post with the goal to help you setting up an <strong>&ldquo;enterprise ready&rdquo; configuration</strong>:</p> <ul> <li><a href="../../../../camel-k/next/installation/advanced/advanced.html">Camel K operator fine tuning</a></li> <li><a href="../../../../camel-k/next/installation/advanced/maven.html">Camel K Maven best practices</a></li> <li><a href="../../../../blog/2023/07/camel-k-gitops/">Camel K GitOps unopinionated approach</a></li> <li><a href="../../../../blog/2023/03/camel-k-telemetry/">Camel K tracing</a></li> </ul> <p>We&rsquo;ve more planned for the next months so, stay tuned.</p> <h1 id="whats-left-for-camel-k--20">What&rsquo;s left for Camel K &gt; 2.0</h1> <p>The main details of the work we did can be directly found among the Github issues and pull requests in the project. You can have a look at the plan we did for the <a href="https://github.com/apache/camel-k/projects/22" rel="noopener nofollow noreferrer">Camel K 2.0 milestone 1</a>.</p> <p>Some of the original work planned and not completed may be delivered in the next milestone (likely Camel K version 2.1), but we think we can take a little break before starting the next plan.</p> <h1 id="thanks">Thanks</h1> <p>I&rsquo;d like to spend some words and thanks all the contributors who made this release possible. All the people that have made some development. All the people that have tested all the work done. All the people that have taken the time to write and read documentation. All the people which have provided feedback, ideas and criticisms around the developments we&rsquo;ve been doing in the last months. Apache Camel K (and more in general, Camel) is made by all of you: thanks!</p> <div class="related"> <h3 id="related"><a class="anchor" href="#related"></a>Related posts</h3> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2023/02/camel-k-release-1-12/"><h1>Camel K 1.12 release</h1></a> <time itemprop="published" datetime="2023-02-27" title="Monday, February 27, 2023">February 27, 2023</time>, by <span rel="author">Pasquale Congiusti</span> </header> <p>Image (c): Camel Vectors by Vecteezy Although we&rsquo;re already in Camel K 2.0 mode, we had not forgotten to bring new fresh features on version 1. Camel K 1.12.0 has just been released and it brings a lot of new interesting upgrades and features. This may be the last release of Camel K 1 major version as we aim to have a release of Camel K 2 during half of this year.</p> <p><a class="continue" href="../../../../blog/2023/02/camel-k-release-1-12/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Releases/">RELEASES</a><a class="category" href="../../../../categories/Camel-K/">CAMEL K</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2023/02/camel-k-roadmap-2023/"><h1>Camel K 2023 Roadmap</h1></a> <time itemprop="published" datetime="2023-02-06" title="Monday, February 6, 2023">February 6, 2023</time>, by <span rel="author">Pasquale Congiusti</span> </header> <p>Signpost png from pngtree.com/ We&rsquo;re in 2023 since a while (just if nobody has noticed yet&hellip;) and we&rsquo;ve taken the month of January to think about how to move Camel K development forward. We had a very good discussion about the new features we&rsquo;d like to see during this year and this blog is trying to resume those ideas collected. I am going to do my best to resume everybody&rsquo;s comments in a shared view in order to inspire any contributor to understand the direction we&rsquo;re willing to take.</p> <p><a class="continue" href="../../../../blog/2023/02/camel-k-roadmap-2023/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Roadmap/">ROADMAP</a><a class="category" href="../../../../categories/Camel-K/">CAMEL K</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2023/01/ck_2022_results/"><h1>Camel K 2022 roadmap - retrospective</h1></a> <time itemprop="published" datetime="2023-01-09" title="Monday, January 9, 2023">January 9, 2023</time>, by <span rel="author">Pasquale Congiusti</span> </header> <p>(c) @TivadarDanka 2023 has come, and with that it is time to make a little retrospective on the work we have completed in 2022 in Camel K project. We are already collecting ideas to submit to the community for 2023 in order to define the new roadmap. Stay tuned, more is coming shortly&hellip; Camel K 2022 roadmap update It&rsquo;s been a long ride and here a short resume of what we accomplished during the last year in Camel K project.</p> <p><a class="continue" href="../../../../blog/2023/01/ck_2022_results/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Roadmap/">ROADMAP</a><a class="category" href="../../../../categories/Camel-K/">CAMEL K</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2022/09/camel-k-release-1-10/"><h1>Camel K 1.10 release</h1></a> <time itemprop="published" datetime="2022-09-05" title="Monday, September 5, 2022">September 5, 2022</time>, by <span rel="author">Pasquale Congiusti</span> </header> <p>It&rsquo;s been a long ride to bring our beloved Camel (K) from 1.9.0 to 1.10.0. We&rsquo;re particularly happy as we had the time to introduce many features and enhancements that we had planned in our 2022 roadmap back at the beginning of the year. As usual let&rsquo;s start by acknowledging the tech stack on top of Camel K and the new exciting versions our fellows have baked: Apache Camel K Runtime 1.</p> <p><a class="continue" href="../../../../blog/2022/09/camel-k-release-1-10/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Releases/">RELEASES</a><a class="category" href="../../../../categories/Camel-K/">CAMEL K</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2022/04/camel-k-release-1-9/"><h1>Camel K 1.9 release</h1></a> <time itemprop="published" datetime="2022-04-28" title="Thursday, April 28, 2022">April 28, 2022</time>, by <span rel="author">Pasquale Congiusti</span> </header> <p>Attention, attention: time for a new exciting Camel K release! On behalf of Camel K community I am happy to announce the latest 1.9.0. Camel K release. As usual let&rsquo;s use this blog to share with you the new stack of exciting technology we&rsquo;ll be using in this version: Apache Camel K Runtime 1.13.0 Apache Camel Quarkus 2.8.0 Apache Camel 3.16.0 Apache Camel Kamelets 0.8.0 Thanks to Apache Camel, Camel Quarkus and Kamelet Catalog contributors for the great efforts they&rsquo;ve put in those new releases as well.</p> <p><a class="continue" href="../../../../blog/2022/04/camel-k-release-1-9/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Releases/">RELEASES</a><a class="category" href="../../../../categories/Camel-K/">CAMEL K</a> </p> </article> </div> </div> </div> </article> </main> </div> <div class="footer-tools"> <a title="Improve this document, receive free virtual hugs &hearts;" href="https://github.com/apache/camel-website/edit/main/content/blog/2023/07/camel-k-2-0/index.md">Edit this Page</a> <a href="#top" title="Reach the top of the page">Back to top</a> </div> <footer> <div class="footer"> <figure class="logo"> <img class="logo" src="../../../../_/img/logo-d-a567cee6fa.svg" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <input id="footer-toggle-overview" type="checkbox" title="Show/Hide Overview section"> <dl> <dt><label for="footer-toggle-overview">Overview</label><label for="footer-toggle-overview">&#65291;</label></dt> <dd><a href="../../../../blog/">Blog</a></dd> <dd><a href="../../../../docs/">Documentation</a></dd> <dd><a href="../../../../community/support/">Community</a></dd> <dd><a href="../../../../download/">Download</a></dd> </dl> <input id="footer-toggle-documentation" type="checkbox" title="Show/Hide Documentation section"> <dl> <dt><label for="footer-toggle-documentation">Documentation</label><label for="footer-toggle-documentation">&#65291;</label></dt> <dd><a href="../../../../manual/">User Manual</a></dd> <dd><a href="../../../../components/next/index.html">Components</a></dd> <dd><a href="../../../../camel-k/next/">Camel-K</a></dd> <dd><a href="../../../../camel-kafka-connector/next/">Camel Kafka Connector</a></dd> <dd><a href="../../../../camel-quarkus/next/">Camel Quarkus</a></dd> <dd><a href="../../../../camel-spring-boot/next/">Camel Spring Boot</a></dd> <dd><a href="../../../../camel-karaf/3.22.x/">Camel Karaf</a></dd> <dd><a href="../../../../manual/faq/index.html">FAQ</a></dd> </dl> <input id="footer-toggle-community" type="checkbox" title="Show/Hide Community section"> <dl> <dt><label for="footer-toggle-community">Community</label><label for="footer-toggle-community">&#65291;</label></dt> <dd><a href="../../../../community/support/">Support</a></dd> <dd><a href="../../../../community/contributing/">Contributing</a></dd> <dd><a href="../../../../community/mailing-list">Mailing Lists</a></dd> <dd><a href="../../../../community/user-stories/">User stories</a></dd> <dd><a href="../../../../community/articles/">Articles</a></dd> <dd><a href="../../../../community/books/">Books</a></dd> <dd><a href="../../../../community/team/">Team</a></dd> </dl> <input id="footer-toggle-about" type="checkbox" title="Show/Hide Acknowledgements section"> <dl> <dt><label for="footer-toggle-about">About</label><label for="footer-toggle-about">&#65291;</label></dt> <dd><a href="../../../../acknowledgments/">Acknowledgments</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p class="remark"> &copy; 2004-2024 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> <div class="resources"> <div class="context"> <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a> </div> <div class="context"> <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a> </div> <div class="context"> <a href="../../../../sitemap/">Sitemap</a> </div> </div> <div class="footer-icons"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#twitter"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://www.linkedin.com/groups/2447439/" title="Apache Camel group on Linkedin"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#linkedin"/></svg></a> </div> </div> </footer> <script src="../../../../_/js/vendor/algoliasearch-bad45193e2.js"></script> <script src="../../../../_/js/site-c215fb6972.js"></script> <script async src="../../../../_/js/vendor/highlight-621a10fe1b.js"></script> <script async src="../../../../_/js/vendor/svg4everybody-a0c573f2b9.js"></script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Organization", "name": "Apache Camel", "url": "https:\/\/camel.apache.org\/" , "sameAs": ["https://twitter.com/ApacheCamel"] , "logo": "https:\/\/camel.apache.org\/_\/img\/logo-d.svg" , "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL." } </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1 , "item": { "@id": "https://camel.apache.org/", "name": "Apache Camel" } },{ "@type": "ListItem", "position": 2 , "item": { "@id": "https://camel.apache.org/blog/", "name": "blog" } },{ "@type": "ListItem", "position": 3 , "item": { "@id": "https://camel.apache.org/blog/2023/", "name": "2023" } },{ "@type": "ListItem", "position": 4 , "item": { "@id": "https://camel.apache.org/blog/2023/07/", "name": "07" } },{ "@type": "ListItem", "position": 5 , "item": { "@id": "https://camel.apache.org/blog/2023/07/camel-k-2-0/", "name": "camel-k-2-0" } }] } </script> </body> </html> 