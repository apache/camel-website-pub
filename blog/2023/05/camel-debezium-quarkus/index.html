<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../../../favicon-128.png" sizes="128x128"> <meta name="application-name" content="Apache Camel"> <meta property="og:title" content="Change Data Capture with Apache Camel and Debezium"> <meta property="og:site_name" content="Apache Camel"> <meta property="og:url" content="https://camel.apache.org/blog/2023/05/camel-debezium-quarkus/"> <meta name="og:description" content="Capturing database change records using Apache Camel and Debezium"> <meta property="og:type" content="website"> <meta property="og:image" content="https://camel.apache.org/_/img/logo-d.svg"> <link rel="manifest" href="../../../../site.webmanifest"> <title>Change Data Capture with Apache Camel and Debezium - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/blog/2023/05/camel-debezium-quarkus/"> <link rel="stylesheet" href="../../../../_/css/site-b287b96c63.css"> </head> <body class="article"> <header class="header" aria-label="Header"> <nav class="navbar" aria-label="Main menu"> <div class="navbar-brand"> <a class="nav-logo" href="../../../../" title="Apache Camel"></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../blog/"> <img alt="Blog" src="../../../../_/img/blog-4c7fa4cb60.svg"> Blog </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../docs/"> <img alt="Documentation" src="../../../../_/img/documentation-abb1b7f8b1.svg"> Documentation </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../community/"> <img alt="Community" src="../../../../_/img/community-2ec8a3dc8b.svg"> Community </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../download/"> <img alt="Download" src="../../../../_/img/download-63cdd75074.svg"> Download </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../../../security/"> <img alt="Security" src="../../../../_/img/security-06abe157b3.svg"> Security </a> </div> </div> <div class="navbar-fill"></div> <div class="break-row"></div> <div class="navbar-search results-hidden"> <input id="search" class="search" placeholder="Search" autocomplete="off"> <img src="/_/img/cancel-1ed239489b.svg" alt="Clear" id="search-cancel"> <div id="search_results"></div> </div> <div class="navbar-tools"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#twitter"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://www.linkedin.com/groups/2447439/" title="Apache Camel group on Linkedin"><svg focusable="false" class="brand-icon"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#linkedin"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button" aria-label="Menu"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <a id="top"></a> <div class="body"> <main role="main blog"> <article class="blog doc"> <header aria-labelledby="title"> <a class="category" href="../../../../categories/Features/">FEATURES</a><a class="category" href="../../../../categories/Camel/">CAMEL</a> <h1 id="title">Change Data Capture with Apache Camel and Debezium</h1> </header> <div class="post"> <aside aria-label="Post details"> <div class="summary">Capturing database change records using Apache Camel and Debezium</div> Posted on <time itemprop="published" datetime="2023-05-31" title="Wednesday, May 31, 2023">May 31, 2023</time>, by <figure> <img src="https://avatars.githubusercontent.com/u/1811536?v=4" alt="Miguel Delgadillo"> <figcaption rel="author">Miguel Delgadillo</figcaption> </figure> <h4>Share this blog</h4> <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcamel.apache.org%2fblog%2f2023%2f05%2fcamel-debezium-quarkus%2f" target="_blank" rel="noopener" aria-label="Share on Facebook"> <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg> </div> </div> </a> <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=Change%20Data%20Capture%20with%20Apache%20Camel%20and%20Debezium&url=https%3a%2f%2fcamel.apache.org%2fblog%2f2023%2f05%2fcamel-debezium-quarkus%2f&hashtags=ApacheCamel" target="_blank" rel="noopener" aria-label="Share on Twitter"> <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg> </div> </div> </a> <a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fcamel.apache.org%2fblog%2f2023%2f05%2fcamel-debezium-quarkus%2f&title=Change%20Data%20Capture%20with%20Apache%20Camel%20and%20Debezium&summary=Capturing%20database%20change%20records%20using%20Apache%20Camel%20and%20Debezium&source=https%3A%2F%2Fcamel.apache.org" target="_blank" rel="noopener" aria-label="Share on LinkedIn" title="Share on LinkedIn"> <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" focusable="false"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg> </div> </div> </a> <p> <a class="arrow prev" href="../../../../blog/2023/05/camel-quarkus-release-3.0.0-M2/" title="Previous post: Camel Quarkus 3.0.0-M2 Released">&#10094;</a> <a class="arrow next" href="../../../../blog/2023/06/debug-adapter-0.7.0-release/" title="Next post: New release of VS Code Debug Adapter for Apache Camel 0.7.0">&#10095;</a> </p> </aside> <div class="post-content"> <p><img src="header-image.svg" alt="header"></p> <p>In this article, we will explore how to use Debezium and Apache Camel in conjunction with Quarkus to build a reactive application efficiently and send real-time changes from a database to a destination, such as webservice or message queue or another database.</p> <h1 id="what-is-debezium">What is Debezium?</h1> <p>Debezium is a distributed, event-driven data change platform used to capture data changes in database systems and send them to other systems in real time so that applications can respond to all database insertions, updates and deletions made by other applications. Debezium can connect to a variety of database systems, including MySQL, PostgreSQL, MongoDB, SQL Server and Oracle.</p> <h1 id="what-is-quarkus">What is Quarkus?</h1> <p>Quarkus is a full-stack, Kubernetes-native Java framework made for Java virtual machines (JVMs) and native compilation (GraalVM), optimizing Java specifically for containers and enabling it to become an effective platform for serverless, cloud, and Kubernetes environments. Quarkus also supports several popular open source frameworks and libraries, making it easy to integrate technologies such as Debezium and Apache Camel.</p> <h1 id="debezium-with-apache-camel">Debezium with Apache Camel</h1> <p>Using Debezium with Apache Camel can provide several advantages, including:</p> <ul> <li><code>Full integration</code>: Camel provides a wide range of connectors/components that can be used to integrate with different data sources and destinations. Debezium can easily integrate with Camel, allowing you to capture and transmit database changes to various destinations/systems.</li> <li><code>Simplified data transformations</code>: Camel provides data transformation capabilities that can be used to convert data formats and structures. When used in conjunction with Debezium, Camel can be used to transform and filter database changes, facilitating data processing.</li> <li><code>Flexible Routing</code>: Camel provides a flexible routing engine that can be used to route data based on various criteria, such as the source or destination of the data. When used in conjunction with Debezium, Camel can be used to route database changes to different destinations based on data content.</li> <li><code>Scalability</code>: Debezium provides a distributed architecture that can be used to scale horizontally. When used with Apache Camel, you can leverage the scalability of Debezium and Camel to handle large volumes of data changes and process them in real time.</li> </ul> <p>In addition, using Debezium with Camel allows you to not rely on an external Kafka cluster or configure <em>&ldquo;Kafka Service Connectors&rdquo;</em>. Instead, Debezium runs directly in the context of the application, capturing the same change events within the database.</p> <p>This is useful for ETL (Extract, Transform, Load) processes, as it allows moving data from one system to another in real time, as in the following example:</p> <p><img src="architecture.png" alt="header"></p> <p>Camel includes components for Debezium in its implementation which allows to use it inside Apache Camel as a consumer endpoint which allows running the <a href="https://debezium.io/documentation/reference/stable/development/engine.html" rel="noopener nofollow noreferrer">Debezium engine in an embedded way</a> in the running instance of Camel.</p> <p>Some of the components currently available are:</p> <ul> <li><a href="../../../../components/next/debezium-mysql-component.html">Debezium MySQL Connector Component</a></li> <li><a href="../../../../components/next/debezium-postgres-component.html">Debezium PostgreSQL Connector Component</a></li> <li><a href="../../../../components/next/debezium-sqlserver-component.html">Debezium SQL Server Connector Component</a></li> <li><a href="../../../../components/next/debezium-mongodb-component.html">Debezium MongoDB Connector Component</a></li> <li><a href="../../../../components/next/debezium-oracle-component.html">Debezium Oracle Connector Component</a> (So far it is still not supported in Quarkus)</li> </ul> <p>Now that we have introduced the different technologies we are going to use, let&rsquo;s start building our application.</p> <p>You can find the complete <a href="https://github.com/mikeintoch/quarkus-debezium-camel" rel="noopener nofollow noreferrer">source code</a> of the example on GitHub.</p> <p><code>Step 1.</code> Create a quarkus application using maven, with the dependencies needed to build our application.</p> <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mvn io.quarkus:quarkus-maven-plugin:2.15.3.Final:create <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-DprojectGroupId<span class="o">=</span>dev.mikeintoch <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-DprojectArtifactId<span class="o">=</span>quarkus-debezium-camel <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-Dextensions<span class="o">=</span><span class="s2">&#34;camel-quarkus-core,camel-quarkus-debezium-postgres,camel-quarkus-direct,camel-quarkus-rest,camel-quarkus-jsonpath,camel-quarkus-mongodb,camel-quarkus-jpa,quarkus-hibernate-orm,quarkus-agroal&#34;</span>
</span></span></code></pre></div><p><code>Step 2.</code> Configure Debezium to connect to the PostgreSQL database and capture the changes. Create a new file called <code>application.properties</code> and add the following properties:</p> <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1">#Camel Debezium Properties</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.offset-storage</span><span class="o">=</span><span class="s">org.apache.kafka.connect.storage.FileOffsetBackingStore</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.offset-storage-file-name</span><span class="o">=</span><span class="s">/tmp/offset.dat</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.database-server-name</span><span class="o">=</span><span class="s">my_db_server</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.database-hostname</span><span class="o">=</span><span class="s">localhost</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.database-dbname</span><span class="o">=</span><span class="s">my_db</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.database-user</span><span class="o">=</span><span class="s">my_username</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.database-password</span><span class="o">=</span><span class="s">my_password</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.database-port</span><span class="o">=</span><span class="s">5432</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.plugin-name</span><span class="o">=</span><span class="s">pgoutput</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.schema-include-list</span><span class="o">=</span><span class="s">public</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.table-include-list</span><span class="o">=</span><span class="s">public.customer</span>
</span></span><span class="line"><span class="cl"><span class="na">camel.component.debezium-postgres.offset-flush-interval-ms</span><span class="o">=</span><span class="s">10000</span>
</span></span></code></pre></div><p><code>Step 3.</code> Create a Camel route to process the changes captured by Debezium. Create a new file named <code>DebeziumRoute.java</code> and add the following code:</p> <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">org.apache.camel.builder.RouteBuilder</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DebeziumRoute</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteBuilder</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">configure</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">from</span><span class="p">(</span><span class="s">&#34;debezium-postgres:my_connector&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">&#34;${body}&#34;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="na">choice</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="p">.</span><span class="na">when</span><span class="p">(</span><span class="n">header</span><span class="p">(</span><span class="s">&#34;CamelDebeziumOperation&#34;</span><span class="p">).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&#34;c&#34;</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="p">.</span><span class="na">convertBodyTo</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="p">.</span><span class="na">to</span><span class="p">(</span><span class="s">&#34;mongodb:mydb?database={{mongodb.database}}&amp;collection={{mongodb.collection}}&amp;operation=insert&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>This route will listen for changes in the client table of the <code>my_db</code> database and send them to a <code>mongodb database</code>. Also processing the data to only process the record creation events.</p> <p><code>Step 4.</code> Configure services to test locally.</p> <p>Use <a href="https://quarkus.io/guides/dev-services" rel="noopener nofollow noreferrer">Quarkus Dev Services</a>, a powerful feature of the Quarkus framework that simplifies the development and testing of applications that rely on external services such as databases, messaging systems, and other resources. It allows developers to automatically start and manage these external services during development and testing, eliminating the need to manually configure them or use a separate environment for testing. This feature reduces the complexity of the development process, increases efficiency and helps ensure that your application works properly in production environments. With Quarkus DevServices, developers can focus on writing code and building high-quality applications instead of managing complex dependencies by using containers to pull up these services.</p> <p>In this case use two database services <code>Postgresql</code> and <code>MongoDB</code>, then configure the services for these components, add the following properties in the <code>application.properties</code> file</p> <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="c1">#Quarkus postgresql database devservices</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.datasource.devservices.enabled</span><span class="o">=</span><span class="s">true</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.datasource.devservices.port</span><span class="o">=</span><span class="s">5432</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.datasource.devservices.db-name</span><span class="o">=</span><span class="s">my_db</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.datasource.devservices.username</span><span class="o">=</span><span class="s">my_username</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.datasource.devservices.password</span><span class="o">=</span><span class="s">my_password</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.datasource.devservices.command</span><span class="o">=</span><span class="s">postgres -c wal_level=logical</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># MongoDB dev services</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.mongodb.devservices.enabled</span><span class="o">=</span><span class="s">true</span>
</span></span><span class="line"><span class="cl"><span class="na">quarkus.mongodb.devservices.port</span><span class="o">=</span><span class="s">27017</span>
</span></span></code></pre></div><p><code>Step 5.</code> Run the application.</p> <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mvn quarkus:dev
</span></span></code></pre></div><p>This will deploy two containers, a Postgresql container and a MongoDB container to test the application.</p> <p>In the meantime in another terminal run the creation of some records within the database to capture them.</p> <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl http://localhost:8080/customer -XPOST -i -H <span class="s1">&#39;Content-Type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;: &#34;Mike Appleseed&#34;,&#34;email&#34;: &#34;appleseed@example.com&#34;,&#34;phone&#34;:&#34;+1-455-9123&#34;,&#34;country&#34;: &#34;United States&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl http://localhost:8080/customer -XPOST -i -H <span class="s1">&#39;Content-Type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;: &#34;Carmen Rojas&#34;,&#34;email&#34;: &#34;carmen@example.com&#34;,&#34;phone&#34;:&#34;+355-945-894&#34;,&#34;country&#34;: &#34;Albania&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">curl http://localhost:8080/customer -XPOST -i -H <span class="s1">&#39;Content-Type: application/json&#39;</span> -d <span class="s1">&#39;{&#34;name&#34;: &#34;Joe Robinson&#34;,&#34;email&#34;: &#34;joerobinson@example.com&#34;,&#34;phone&#34;:&#34;+1-746-8796&#34;,&#34;country&#34;: &#34;United States&#34;}&#39;</span>
</span></span></code></pre></div><p><code>Step 6.</code> Finally verify that the data is at its final destination.</p> <p><img src="mongo-db.png" alt="mongo-db"></p> <h1 id="conclusion">Conclusion</h1> <p>Apache Camel and Debezium provide an excellent combination for building event-driven architectures that can capture and process changes in your data sources.</p> <p>By using these tools together, you can create microservices and applications that can react in real time to changes in your data sources, without the need for costly and complex data synchronization processes. This can lead to significant improvements in data consistency and reliability, as well as faster and more efficient data processing.</p> <p>You can find the complete <a href="https://github.com/mikeintoch/quarkus-debezium-camel" rel="noopener nofollow noreferrer">source code</a> of the example on GitHub.</p> <p><strong><em>NOTE: This is a translation/contribution based on the original article available in Spanish at <a href="https://contenerizar.com/capturar-cambios-en-bases-de-datos-con-debezium-y-apache-camel" rel="noopener nofollow noreferrer">https://contenerizar.com/capturar-cambios-en-bases-de-datos-con-debezium-y-apache-camel</a></em></strong></p> <div class="related"> <h3 id="related"><a class="anchor" href="#related"></a>Related posts</h3> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2023/05/camel-4-performance-improvements/"><h1>Hunting performance monsters on the back of a Camel</h1></a> <time itemprop="published" datetime="2023-05-25" title="Thursday, May 25, 2023">May 25, 2023</time>, by <span rel="author">Otavio Rodolfo Piske</span> </header> <p>Introduction We are thrilled to share the remarkable advancements in the performance of Apache Camel 4, achieved through our diligent efforts in addressing a critical JVM issue (JDK-8180450). In this article, we will delve into the details of our investigation, the tools employed, and the subsequent optimizations that have propelled Apache Camel 4 to new heights of speed and efficiency. Identifying the Performance Challenge The JVM issue JDK-8180450, known for its potential performance penalties during type checking, became our focal point.</p> <p><a class="continue" href="../../../../blog/2023/05/camel-4-performance-improvements/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Features/">FEATURES</a><a class="category" href="../../../../categories/Camel/">CAMEL</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2022/03/resume-api-v2/"><h1>Introducing the Resume API v2</h1></a> <time itemprop="published" datetime="2022-03-22" title="Tuesday, March 22, 2022">March 22, 2022</time>, by <span rel="author">Otavio Rodolfo Piske</span> </header> <p>The need to process larger quantities of data has been a growing concern and necessity within our community. For the last few releases we have been working to create mechanisms to simplify how our users can consume data at scale. Although Camel is no stranger to consuming data at scale, recent trends in computing and systems architecture introduce the need for behaviors that improve agility, speed and scalability when doing so.</p> <p><a class="continue" href="../../../../blog/2022/03/resume-api-v2/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Features/">FEATURES</a><a class="category" href="../../../../categories/Camel/">CAMEL</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2022/02/camel-test-infra/"><h1>Good bye camel-testcontainers! Hello Camel&#39;s test-infra</h1></a> <time itemprop="published" datetime="2022-02-16" title="Wednesday, February 16, 2022">February 16, 2022</time>, by <span rel="author">Otavio Rodolfo Piske</span> </header> <p>For Camel 3.16.0 we are removing the deprecated container-based test modules and replacing them with a new set of modules called Camel test-infra. They continue to support container-based tests via TestContainers, however they abstract the underlying test infrastructure. One of the great benefits for our project is that they allow us to more easily switch from container-based tests, to external instances. Previously, we would need to create a new test or implement a more complex design if we wanted to test both a container instance and an external service instance (i.</p> <p><a class="continue" href="../../../../blog/2022/02/camel-test-infra/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Features/">FEATURES</a><a class="category" href="../../../../categories/Camel/">CAMEL</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2021/09/camel-kafka-consumer-changes/"><h1>Upcoming changes to the consumer on Kafka component</h1></a> <time itemprop="published" datetime="2021-09-24" title="Friday, September 24, 2021">September 24, 2021</time>, by <span rel="author">Otavio Rodolfo Piske</span> </header> <p>We recently started to review, investigate and fix reliability issues with the Kafka component. As part of that, we refactored the code to avoid problematic concurrency patterns, remove calls to deprecated Kafka client code and simplify the overall maintainability of the code. This led to many changes in the internal implementation of the component, which we will talk about in this blog post. Motivation The ground work related to these changes can be traced back to the following set of issues reported on our Jira.</p> <p><a class="continue" href="../../../../blog/2021/09/camel-kafka-consumer-changes/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Features/">FEATURES</a><a class="category" href="../../../../categories/Camel/">CAMEL</a> </p> </article> <article class="blog doc"> <header aria-label="Blog post"> <a href="../../../../blog/2021/07/camel-jbang/"><h1>Camel &#43; JBang: bringing the world of Java scripting to Camel</h1></a> <time itemprop="published" datetime="2021-07-26" title="Monday, July 26, 2021">July 26, 2021</time>, by <span rel="author">Otavio Rodolfo Piske</span> </header> <p>Bringing the world of Java scripting to Camel</p> <p><a class="continue" href="../../../../blog/2021/07/camel-jbang/">Continue reading &#10095;</a></p> <p> <a class="category" href="../../../../categories/Features/">FEATURES</a><a class="category" href="../../../../categories/Camel/">CAMEL</a> </p> </article> </div> </div> </div> </article> </main> </div> <div class="footer-tools"> <a title="Improve this document, receive free virtual hugs &hearts;" href="https://github.com/apache/camel-website/edit/main/content/blog/2023/05/camel-debezium-quarkus/index.md">Edit this Page</a> <a href="#top" title="Reach the top of the page">Back to top</a> </div> <footer> <div class="footer"> <figure class="logo"> <img class="logo" src="../../../../_/img/logo-d-a567cee6fa.svg" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <input id="footer-toggle-overview" type="checkbox" title="Show/Hide Overview section"> <dl> <dt><label for="footer-toggle-overview">Overview</label><label for="footer-toggle-overview">&#65291;</label></dt> <dd><a href="../../../../blog/">Blog</a></dd> <dd><a href="../../../../docs/">Documentation</a></dd> <dd><a href="../../../../community/support/">Community</a></dd> <dd><a href="../../../../download/">Download</a></dd> </dl> <input id="footer-toggle-documentation" type="checkbox" title="Show/Hide Documentation section"> <dl> <dt><label for="footer-toggle-documentation">Documentation</label><label for="footer-toggle-documentation">&#65291;</label></dt> <dd><a href="../../../../manual/">User Manual</a></dd> <dd><a href="../../../../components/next/index.html">Components</a></dd> <dd><a href="../../../../camel-k/next/">Camel-K</a></dd> <dd><a href="../../../../camel-kafka-connector/next/">Camel Kafka Connector</a></dd> <dd><a href="../../../../camel-quarkus/next/">Camel Quarkus</a></dd> <dd><a href="../../../../camel-spring-boot/next/">Camel Spring Boot</a></dd> <dd><a href="../../../../camel-karaf/3.22.x/">Camel Karaf</a></dd> <dd><a href="../../../../manual/faq/index.html">FAQ</a></dd> </dl> <input id="footer-toggle-community" type="checkbox" title="Show/Hide Community section"> <dl> <dt><label for="footer-toggle-community">Community</label><label for="footer-toggle-community">&#65291;</label></dt> <dd><a href="../../../../community/support/">Support</a></dd> <dd><a href="../../../../community/contributing/">Contributing</a></dd> <dd><a href="../../../../community/mailing-list">Mailing Lists</a></dd> <dd><a href="../../../../community/user-stories/">User stories</a></dd> <dd><a href="../../../../community/articles/">Articles</a></dd> <dd><a href="../../../../community/books/">Books</a></dd> <dd><a href="../../../../community/team/">Team</a></dd> </dl> <input id="footer-toggle-about" type="checkbox" title="Show/Hide Acknowledgements section"> <dl> <dt><label for="footer-toggle-about">About</label><label for="footer-toggle-about">&#65291;</label></dt> <dd><a href="../../../../acknowledgments/">Acknowledgments</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p class="remark"> &copy; 2004-2024 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> <div class="resources"> <div class="context"> <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a> </div> <div class="context"> <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a> </div> <div class="context"> <a href="../../../../sitemap/">Sitemap</a> </div> </div> <div class="footer-icons"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#twitter"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://www.linkedin.com/groups/2447439/" title="Apache Camel group on Linkedin"><svg class="brand-icon" focusable="false"><use href="../../../../_/img/brand-logos-f2e689f4d4.svg#linkedin"/></svg></a> </div> </div> </footer> <script src="../../../../_/js/vendor/algoliasearch-bad45193e2.js"></script> <script src="../../../../_/js/site-c215fb6972.js"></script> <script async src="../../../../_/js/vendor/highlight-621a10fe1b.js"></script> <script async src="../../../../_/js/vendor/svg4everybody-a0c573f2b9.js"></script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Organization", "name": "Apache Camel", "url": "https:\/\/camel.apache.org\/" , "sameAs": ["https://twitter.com/ApacheCamel"] , "logo": "https:\/\/camel.apache.org\/_\/img\/logo-d.svg" , "description": "Apache Camel â„¢ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL." } </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1 , "item": { "@id": "https://camel.apache.org/", "name": "Apache Camel" } },{ "@type": "ListItem", "position": 2 , "item": { "@id": "https://camel.apache.org/blog/", "name": "blog" } },{ "@type": "ListItem", "position": 3 , "item": { "@id": "https://camel.apache.org/blog/2023/", "name": "2023" } },{ "@type": "ListItem", "position": 4 , "item": { "@id": "https://camel.apache.org/blog/2023/05/", "name": "05" } },{ "@type": "ListItem", "position": 5 , "item": { "@id": "https://camel.apache.org/blog/2023/05/camel-debezium-quarkus/", "name": "camel-debezium-quarkus" } }] } </script> </body> </html> 