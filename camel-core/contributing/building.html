<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Building Camel from Source :: Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/camel-core/contributing/building.html"> <meta name="generator" content="Antora 3.1.7"> <link rel="stylesheet" href="../../_/css/site-b287b96c63.css"> <meta name="application-name" content="Apache Camel"> <meta property="og:title" content="Building Camel from Source"> <meta property="og:site_name" content="Apache Camel"> <meta property="og:url" content="https://camel.apache.org"> <meta property="og:description" content="Camel is an open source integration framework that empowers you to quickly and easily integrate various systems consuming or producing data."> <meta property="og:type" content="website"> <meta property="og:image" content="https://camel.apache.org/_/img/logo-d-a567cee6fa.svg"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar" aria-label="Main menu"> <div class="navbar-brand"> <a class="nav-logo" href="../.."></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item-section navbar-item navbar-topics" href="../../blog/"> <img alt="Blog" src="/_/img/blog-4c7fa4cb60.svg"> Blog </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../docs/"> <img alt="Documentation" src="/_/img/documentation-abb1b7f8b1.svg"> Documentation </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../community/"> <img alt="Community" src="/_/img/community-2ec8a3dc8b.svg"> Community </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../download/"> <img alt="Download" src="/_/img/download-63cdd75074.svg"> Download </a> <a class="navbar-item-section navbar-item navbar-topics" href="../../security/"> <img alt="Security" src="/_/img/security-06abe157b3.svg"> Security </a> </div> </div> <div class="navbar-fill"></div> <div class="break-row"></div> <div class="navbar-search results-hidden"> <input id="search" class="search" placeholder="Search" autocomplete="off"> <img src="../../_/img/cancel-1ed239489b.svg" alt="Clear" id="search-cancel"> <div id="search_results"></div> </div> <div class="navbar-tools"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#twitter"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://www.linkedin.com/groups/2447439/" title="Apache Camel group on Linkedin"><svg focusable="false" class="brand-icon"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#linkedin"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button" aria-label="Menu"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <a id="top"></a> <div class="body"> <div class="nav-container" data-component="camel-core" data-version=""> <aside class="nav" aria-label="Side menu"> <div class="panels"> <div class="nav-panel-menu is-active"> <nav class="nav-menu" data-panel="menu" aria-label="Topics"> <h3 class="title"><a href="../index.html">Camel Core</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <a class="nav-link" href="../getting-started/index.html">Index</a> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title noversion">Camel Core</span> </div> <ul class="components"> <li class="component"> <span class="title"> <a href="../../manual/index.html">User manual</a> </span></li> <li class="component"><span class="title">Camel Components</span> <ul class="versions"> <li class="version"> <a href="../../components/next/index.html">Next (Pre-release)</a> </li> <li class="version"> <a href="../../components/4.8.x/index.html">4.8.x (LTS)</a> </li> <li class="version"> <a href="../../components/4.4.x/index.html">4.4.x (LTS)</a> </li> <li class="version"> <a href="../../components/3.22.x/index.html">3.22.x (LTS)</a> </li> </ul></li> <li class="component is-current"> <span class="title"> <a href="../index.html">Camel Core</a> </span></li> <li class="component"><span class="title">Camel K</span> <ul class="versions"> <li class="version"> <a href="../../camel-k/next/index.html">Next (Pre-release)</a> </li> <li class="version"> <a href="../../camel-k/2.4.x/index.html">2.4.x</a> </li> </ul></li> <li class="component"><span class="title">Camel Kafka Connector</span> <ul class="versions"> <li class="version"> <a href="../../camel-kafka-connector/next/index.html">Next (Pre-release)</a> </li> <li class="version"> <a href="../../camel-kafka-connector/4.8.x/index.html">4.8.x</a> </li> </ul></li> <li class="component"><span class="title">Kamelet Catalog</span> <ul class="versions"> <li class="version"> <a href="../../camel-kamelets/next/index.html">Next (Pre-release)</a> </li> <li class="version"> <a href="../../camel-kamelets/4.8.x/index.html">4.8.x (LTS)</a> </li> <li class="version"> <a href="../../camel-kamelets/4.4.x/index.html">4.4.x (LTS)</a> </li> </ul></li> <li class="component"><span class="title">Camel Karaf</span> <ul class="versions"> <li class="version"> <a href="../../camel-karaf/3.22.x/index.html">3.22.x (LTS)</a> </li> </ul></li> <li class="component"><span class="title">Camel Quarkus</span> <ul class="versions"> <li class="version"> <a href="../../camel-quarkus/next/index.html">Next (Pre-release)</a> </li> <li class="version"> <a href="../../camel-quarkus/3.15.x/index.html">3.15.x</a> </li> <li class="version"> <a href="../../camel-quarkus/3.8.x/index.html">3.8.x</a> </li> </ul></li> <li class="component"><span class="title">Camel Spring Boot</span> <ul class="versions"> <li class="version"> <a href="../../camel-spring-boot/next/index.html">Next (Pre-release)</a> </li> <li class="version"> <a href="../../camel-spring-boot/4.8.x/index.html">4.8.x (LTS)</a> </li> <li class="version"> <a href="../../camel-spring-boot/4.4.x/index.html">4.4.x (LTS)</a> </li> <li class="version"> <a href="../../camel-spring-boot/3.22.x/index.html">3.22.x (LTS)</a> </li> </ul></li> </ul> </div> </div> </aside> </div> <main class="article"> <nav class="toolbar" aria-label="Toolbar"> <button class="nav-toggle" type="button" aria-label="Toggle submenu"></button> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="../index.html">Camel Core</a></li> <li><a href="building.html">Building Camel from Source</a></li> </ul> </nav> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/main/docs/main/modules/contributing/pages/building.adoc">Edit this Page</a></div> </nav> <div class="content"> <article class="doc"> <h1 class="page">Building Camel from Source</h1> <div class="sect1"> <h2 id="_common_requirements"><a class="anchor" href="#_common_requirements"></a>Common Requirements</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p>About 10Gb of free disk space for the compiled code and local Maven cache.</p> </li> <li> <p>At least 3.5Gb of RAM.</p> </li> <li> <p>A relatively modern operating system (Linux, Windows, macOS, *BSDs).</p> <div class="ulist"> <ul> <li> <p>Other operating systems capable of running Java should work too, although that is not tested by the project</p> </li> </ul> </div> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_prerequisites_for_camel_3_x"><a class="anchor" href="#_prerequisites_for_camel_3_x"></a>Prerequisites for Camel 3.x</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p>Java 11 (we test using <a href="https://adoptium.net/">OpenJDK</a>, but any modern JDK should be fine).</p> </li> <li> <p><a href="https://maven.apache.org">Apache Maven</a> version 3.8.0 or greater to build the code. You can either use your own Maven package or build using the <a href="https://github.com/takari/maven-wrapper">Maven Wrapper</a> (<code>mvnw</code>) provided with the project.</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_prerequisites_for_camel_4_x"><a class="anchor" href="#_prerequisites_for_camel_4_x"></a>Prerequisites for Camel 4.x</h2> <div class="sectionbody"> <div class="ulist"> <ul> <li> <p>Java 17 (we test using <a href="https://adoptium.net/">OpenJDK</a>, but any modern JDK should be fine).</p> </li> <li> <p><a href="https://github.com/takari/maven-wrapper">Maven Wrapper</a> can be used and is bundled.</p> </li> <li> <p><a href="https://maven.apache.org">Apache Maven</a> version 3.9.0 or greater to build the code. You can either use your own Maven package or build using the <a href="https://github.com/takari/maven-wrapper">Maven Wrapper</a> (<code>mvnw</code>) provided with the project.</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_maven"><a class="anchor" href="#_maven"></a>Maven</h2> <div class="sectionbody"> <div class="paragraph"> <p>Running the Maven Wrapper <code>mvnw</code> script with <code>-v</code> parameter from the root directory of the project will reveal the recommended Maven version:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">./mvnw -v
Apache Maven 1.2.3
Maven home: /home/user/.m2/wrapper/dists/apache-maven-1.2.3-bin/deadbeef/apache-maven-1.2.3
Java version: 17.0.5, vendor: Eclipse Adoptium, runtime: /home/user/java/17.0.5-tem
Default locale: en_IE, platform encoding: UTF-8
OS name: "linux", version: "6.3.7-200.fc38.x86_64", arch: "amd64", family: "unix"</code></pre> </div> </div> <div class="paragraph"> <p>If you do not like installing Maven manually, you can keep using <code>mvnw</code> instead of <code>mvn</code>.</p> </div> <div class="admonitionblock note"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>Camel committers and experienced Camel contributors are may also use Maven Daemon <code>mvnd</code> to build Camel faster.</p> </div> </td> </tr> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_maven_options"><a class="anchor" href="#_maven_options"></a>Maven options</h2> <div class="sectionbody"> <div class="paragraph"> <p>To build Camel maven has to be configured to use more memory, which is done automatically via the <code>.mvn/jvm.config</code> file.</p> </div> </div> </div> <div class="sect1"> <h2 id="_a_normal_build"><a class="anchor" href="#_a_normal_build"></a>A normal build</h2> <div class="sectionbody"> <div class="paragraph"> <p>Beware this runs all the unit tests which takes many hours.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install</code></pre> </div> </div> <div class="sect2"> <h3 id="_building_camel_3"><a class="anchor" href="#_building_camel_3"></a>Building Camel 3</h3> <div class="paragraph"> <p>The following command will do a fast build.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install -Pfastinstall</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_building_camel_4"><a class="anchor" href="#_building_camel_4"></a>Building Camel 4</h3> <div class="paragraph"> <p>The following command will do a fast build.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install -Dquickly</code></pre> </div> </div> <div class="admonitionblock note"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>On Camel 4, you can also use <code>-Pfastinstall</code> to trigger a fast build, but we encourage contributors to switch to the new command.</p> </div> </td> </tr> </table></div> </div> <div class="admonitionblock note"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p>On Camel 4, Virtual Threads can only be enabled by compiling with JDK 21 or greater and adding the system property <code>-Dcamel.threads.virtual.enabled=true</code> to your build command.</p> </div> </td> </tr> </table></div> </div> <div class="paragraph"> <p>The commands above will build Camel in a quick way: skipping build optional artifacts and running tests. In most modern computers, this should complete in at most 30 minutes (usually much less, for newer hardware).</p> </div> </div> <div class="sect2"> <h3 id="_building_source_jars"><a class="anchor" href="#_building_source_jars"></a>Building source jars</h3> <div class="paragraph"> <p>If you want to build jar files with the source code, then you can run this command from the camel root folder:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn -Pfastinstall,source-jar clean install</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_building_for_deployment"><a class="anchor" href="#_building_for_deployment"></a>Building for deployment</h3> <div class="paragraph"> <p>If you want to build Camel so it can be deployed to a Maven repository, then you can run this command from the camel root folder:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn -Pfastinstall,deploy clean install</code></pre> </div> </div> <div class="paragraph"> <p>The build with deployment will build source jars, javadoc and other artifacts needed for deployment.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_verifying_the_coding_style"><a class="anchor" href="#_verifying_the_coding_style"></a>Verifying the coding style</h2> <div class="sectionbody"> </div> </div> <div class="sect1"> <h2 id="_camel_4_x"><a class="anchor" href="#_camel_4_x"></a>Camel 4.x</h2> <div class="sectionbody"> <div class="paragraph"> <p>Starting with Camel 4.0.0, our build system will automatically verify and format the code when doing a full build or when running certain phases that trigger it (i.e.; when running <code>mvn verify</code>).</p> </div> </div> </div> <div class="sect1"> <h2 id="_camel_3_x"><a class="anchor" href="#_camel_3_x"></a>Camel 3.x</h2> <div class="sectionbody"> <div class="paragraph"> <p>Apache Camel source code uses a coding style/format that can be verified for compliance using the "checkstyle" plugin.</p> </div> <div class="paragraph"> <p>To enable source style checking, build Camel with the <code>-Psourcecheck</code> profile:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install -Psourcecheck</code></pre> </div> </div> <div class="paragraph"> <p>Please remember to run this check on your code changes before submitting a patch or GitHub PR. You do not need to run this against the entire project, but only in the modules you modified.</p> </div> <div class="paragraph"> <p>For instance, if you do some code changes in the camel-ftp component, following which you can run the check from within this directory:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd camel-ftp
mvn clean install -Psourcecheck</code></pre> </div> </div> </div> </div> </article> <aside class="toc sidebar" aria-label="Table of contents" data-title="Contents" data-levels="2"> <div class="toc-menu"></div> </aside> </div> </main> </div> <div class="footer-tools"> <a href="#top" title="Reach the top of the page">Back to top</a> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d-a567cee6fa.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <input id="footer-toggle-overview" type="checkbox" title="Show/Hide Overview section"> <dl> <dt><label for="footer-toggle-overview">Overview</label><label for="footer-toggle-overview">&#65291;</label></dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../docs/">Documentation</a></dd> <dd><a href="../../community/support/">Community</a></dd> <dd><a href="../../download/">Download</a></dd> </dl> <input id="footer-toggle-documentation" type="checkbox" title="Show/Hide Documentation section"> <dl> <dt><label for="footer-toggle-documentation">Documentation</label><label for="footer-toggle-documentation">&#65291;</label></dt> <dd><a href="../../manual/">User Manual</a></dd> <dd><a href="../../components/next/index.html">Components</a></dd> <dd><a href="../../camel-k/next/">Camel-K</a></dd> <dd><a href="../../camel-kafka-connector/next/">Camel Kafka Connector</a></dd> <dd><a href="../../camel-quarkus/next/">Camel Quarkus</a></dd> <dd><a href="../../camel-spring-boot/next/">Camel Spring Boot</a></dd> <dd><a href="../../camel-karaf/3.22.x/">Camel Karaf</a></dd> <dd><a href="../../manual/faq/index.html">FAQ</a></dd> </dl> <input id="footer-toggle-community" type="checkbox" title="Show/Hide Community section"> <dl> <dt><label for="footer-toggle-community">Community</label><label for="footer-toggle-community">&#65291;</label></dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="../../community/contributing/">Contributing</a></dd> <dd><a href="../../community/mailing-list/">Mailing Lists</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <input id="footer-toggle-about" type="checkbox" title="Show/Hide Acknowledgements section"> <dl> <dt><label for="footer-toggle-about">About</label><label for="footer-toggle-about">&#65291;</label></dt> <dd><a href="../../acknowledgments/">Acknowledgments</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p class="remark"> &copy; 2004-2024 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> <div class="resources"> <div class="context"> <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy Policy</a> </div> <div class="context"> <a target="_blank" rel="noopener noreferrer nofollow" href="https://www.apache.org/foundation/policies/conduct">Code of Conduct</a> </div> <div class="context"> <a href="../../sitemap/">Sitemap</a> </div> </div> <div class="footer-icons"> <a rel="noopener noreferrer nofollow" href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#github"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://camel.zulipchat.com" title="Chat on Zulip"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#zulip"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#twitter"/></svg></a> <a rel="noopener noreferrer nofollow" href="https://www.linkedin.com/groups/2447439/" title="Apache Camel group on Linkedin"><svg class="brand-icon" focusable="false"><use xlink:href="../../_/img/brand-logos-f2e689f4d4.svg#linkedin"/></svg></a> </div> </div> </footer> <script src="../../_/js/vendor/algoliasearch-bad45193e2.js"></script> <script src="../../_/js/site-c215fb6972.js"></script> <script async src="../../_/js/vendor/highlight-621a10fe1b.js"></script> <script async src="../../_/js/vendor/svg4everybody-a0c573f2b9.js"></script> <script async src="../../_/js/vendor/tabs-5aea11bcf5.js" data-sync-storage-key="preferred-tab"></script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "Organization", "name": "Apache Camel", "url": "https://camel.apache.org", "sameAs": [ "https://twitter.com/ApacheCamel" ], "logo": "../../_/img/logo-d-a567cee6fa.svg", "description": "Apache Camel ™ is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL." } </script> <script type="application/ld+json"> { "@context": "http://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1, "name": "Apache Camel", "item": "https://camel.apache.org/" }, { "@type": "ListItem", "position": 2, "name": "Camel Core", "item": "https://camel.apache.org/camel-core/index.html" }, { "@type": "ListItem", "position": 3, "name": "default", "item": "https://camel.apache.org/camel-core/index.html" }, { "@type": "ListItem", "position": 4, "name": "Building Camel from Source", "item": "https://camel.apache.org/camel-core/contributing/building.html" }] } </script> </body> </html> 